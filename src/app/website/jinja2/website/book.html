{% extends "website/layout/layout.html" %}

{% import 'website/macros/library.html' as library %}

{% block breadcrumb %}
    <div id="breadcrumb">
        <a href="{{ url("library:home") }}" class="nes-text is-primary">Homepage</a>
        <span>Library</span>
        <a href="{{ url("library:book", kwargs={"slug": book.slug}) }}" class="nes-text is-primary">{{ book.title }}</a>
    </div>
{% endblock breadcrumb %}

{% block body %}
    <main id="book-page">

        <div class="book-cover-container">
            {{ library.book_cover(book) }}
        </div>

        <div class="book-content">

            <h2 class="book-title">{{ book.title }}</h2>
            {% if book.subtitle %}
                <h4 class="book-subtitle">{{ book.subtitle }}</h4>
            {% endif %}

            {{ library.language(book.lang) }}

            {% if book.authors.all()|length %}
                <div class="authors">
                    {% for author in book.authors.all() %}
                        <h3 class="author-name"><i class="nes-kirby is-small"></i> {{ author|author_full_name }}</h3>
                    {% endfor %}
                </div>
            {% endif %}

            {% with genres=book.genres.all() %}
                {{ library.genres_container(genres, full_width=True) }}
            {% endwith %}

            <div class="misc-data">
                {{ library.book_pages_count(book.size) }}
            </div>

        </div>
        {# end .book-content #}

    </main>
{% endblock body %}
